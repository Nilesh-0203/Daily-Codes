<h2><a href="https://www.geeksforgeeks.org/problems/lfu-cache-1665050355/0">LFU cache</a></h2><h3>Difficulty Level : Difficulty: Hard</h3><hr><div class="problems_problem_content__Xm_eO"><p dir="ltr"><span style="font-size: 14pt;">Design and implement an LFU (Least Frequently Used) cache. Here <strong>cap</strong> denotes the capacity of the cache and <strong>Q</strong> denotes the number of queries. Query can be of two types <strong>GET(x)</strong> and <strong>PUT(x, y)</strong>.&nbsp;</span></p>
<p dir="ltr"><span style="font-size: 14pt;">The LRU cache should support the following operations:</span></p>
<ul>
<li dir="ltr"><span style="font-size: 14pt;"><strong>LFUCache(cap)</strong>: initializes the cache with a given capacity.</span></li>
<li dir="ltr"><span style="font-size: 14pt;"><strong>get(key)</strong>: returns the value associated with the key if it exists; otherwise, returns <strong>-1</strong>.</span></li>
<li dir="ltr"><span style="font-size: 14pt;"><strong>put(key, value)</strong>: inserts or updates the key with value. If the cache has reached its capacity, the least frequently used (LFU) key should be removed. If there is a tie between keys with the same frequency, the least recently used (LRU) key among them should be removed.</span></li>
</ul>
<p><span style="font-size: 14pt; font-family: arial, helvetica, sans-serif;"><strong>Examples:</strong></span></p>
<pre><span style="font-size: 14pt; font-family: arial, helvetica, sans-serif;"><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">Input: </strong><span style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">cap = 2, Q = 9, Queries = [["PUT", 1, 1], ["PUT", 2, 2], ["GET", 1], ["PUT", 3, 3], ["GET", 2], ["PUT", 4, 4], ["GET", 3], ["GET", 4], ["PUT", 5, 5]]<br></span><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">Output: </strong><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 18.6667px;">[1 , -1, -1, 4]</span></span><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;"><br>Explanation: </strong><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 18.6667px;">Cache Size = 2</span></span><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;"><br></strong></span><span style="font-size: 14pt; font-family: arial, helvetica, sans-serif;"><span style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">["PUT", 1, 1]: inserts the key-value pair (1, 1).
["PUT", 2, 2]: inserts the key-value pair (2, 2).
["GET", 1]: the cache retrieves the value for key 1, which is 1. After accessing key 1, its frequency increases to 2.
["PUT", 3, 3]: The cache is now full (capacity = 2). To insert the new key-value pair (3, 3), the least frequently used key must be removed. key 2 have a frequency of 1. As a result, key 2 (the least recently accessed key) is removed and key-value pair (3, 3) is inserted with frequency 1.
["GET", 2]: cache returns -1 indicating that key 2 is not found.
["PUT", 4, 4]: key 3 is removed as it has frequency of 1 and key-value pair (4, 4) is inserted with frequency 1.
["GET", 3]: returns -1 (key 3 not found)
["GET", 4]: the cache retrieves the value for key 4, which is 4. After accessing key 4, its frequency increases to 2.
["PUT", 5, 5]: key 1 and key 4 both have a frequency of 2 . Now, key 1 will be removed as key 4 is most recently used and key-value pair (5, 5) is inserted with frequency 1.</span></span></pre>
<pre><span style="font-size: 14pt; font-family: arial, helvetica, sans-serif;"><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">Input: </strong><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 14pt;">cap = </span></span><code style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">3,</code> <span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 14pt;">Q = 10, Queries = [["PUT", 5, 7], ["PUT", 4, 6], ["PUT", 3, 5], ["PUT", 2, 4], ["PUT", 1, 3], ["GET", 1], ["GET", 2], ["GET", 3], ["GET", 4], ["GET", 5]]<br></span></span><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">Output: </strong><span style="font-family: arial, helvetica, sans-serif;"><span style="font-size: 14pt;">[3, 4, 5, -1, -1]<br></span></span><strong style="font-family: arial, helvetica, sans-serif; font-size: 14pt;">Explanation: </strong><span style="font-size: 18.6667px;">["PUT", 2, 4]</span><span style="font-weight: 400;">&nbsp;evicts&nbsp;<code>(5,7)</code> as it is the least frequently used. ["PUT", 1, 3] </span><span style="font-weight: 400;">evicts&nbsp;<code>(4,6)</code>. </span><span style="font-weight: 400;">After all operations, the cache contains keys&nbsp;</span><code style="font-weight: 400;">1</code><span style="font-weight: 400;">,&nbsp;</span><code style="font-weight: 400;">2</code><span style="font-weight: 400;">, and&nbsp;</span><code style="font-weight: 400;">3</code><span style="font-weight: 400;">.</span></span></pre>
<p><span style="font-size: 14pt; font-family: arial, helvetica, sans-serif;"><strong>Constraints:<br></strong><span class="katex-html" aria-hidden="true"><span class="base"><span class="mord">0 </span><span class="mrel">≤ </span></span><span class="base"><span class="mord text"><span class="mord">cap </span></span><span class="mrel">≤ </span></span><span class="base"><span class="mord">1</span><span class="mord"><span class="mord">0<sup>4</sup></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><br><span class="katex-html" aria-hidden="true"><span class="base"><span class="mord">0 </span><span class="mrel">≤ </span></span><span class="base"><span class="mord text"><span class="mord">key </span></span><span class="mrel">≤ </span></span><span class="base"><span class="mord">1</span><span class="mord"><span class="mord">0<sup>5</sup></span></span></span></span><span class="katex-mathml"><br></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="mord">0 </span><span class="mrel">≤ </span></span><span class="base"><span class="mord text"><span class="mord">value </span></span><span class="mrel">≤ </span></span><span class="base"><span class="mord">1</span><span class="mord"><span class="mord">0<sup>6</sup></span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist"><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><br></span></span></span></span></span></span></span></span></span>Up to <span class="katex"><span class="katex-html" aria-hidden="true"><span class="base"><span class="mord">2</span><span class="mbin">×</span></span><span class="base"><span class="mord">1</span><span class="mord"><span class="mord">0<sup>5</sup></span></span></span></span></span>&nbsp;calls will be made to&nbsp;<code>get</code>&nbsp;and&nbsp;<code>put</code>.</span></span></span></span></span></span></span></span></span></span></p></div><br><p><span style=font-size:18px><strong>Topic Tags : </strong><br><code>Hash</code>&nbsp;<code>Queue</code>&nbsp;<code>doubly-linked-list</code>&nbsp;<code>Data Structures</code>&nbsp;<code>Design-Pattern</code>&nbsp;